!function(C,m,y){"use strict";function u(){C(".hybgl-lightbox").each(function(){var a=C(this),i=a.data("selector"),t=a.data("lightbox"),e=C("."+i),n="a.hybgl-button-action-zoom";"mp"==t?e.find(n).magnificPopup({preloader:!0,tLoading:"",closeOnContentClick:!0,gallery:{enabled:!0},image:{cursor:"mfp-zoom-out-cur",tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(a){var i="",t="";return a.el.attr("title")&&(i=a.el.attr("title")),a.el.data("descr")&&(t="<small>"+a.el.data("descr")+"</small>"),i+t}},mainClass:"mfp-zoom-in",removalDelay:300,callbacks:{beforeOpen:function(){},open:function(){C.magnificPopup.instance.next=function(){var a=this;a.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){C.magnificPopup.proto.next.call(a)},120)},C.magnificPopup.instance.prev=function(){var a=this;a.wrap.removeClass("mfp-image-loaded"),setTimeout(function(){C.magnificPopup.proto.prev.call(a)},120)}},imageLoadComplete:function(){var a=this;setTimeout(function(){a.wrap.addClass("mfp-image-loaded")},16)},close:function(){this.wrap.removeClass("mfp-image-loaded")}}}):"fyb"==t?(e.find(n).each(function(){C(this).attr("rel","gallery-"+i)}),e.find(n).fancybox({margin:[20,20,20,20],helpers:{title:{type:"inside"},thumbs:{width:50,height:50},buttons:{},media:{}},maxWidth:"90%",maxHeight:"90%",beforeLoad:function(){e.find(n).each(function(){var a=C(this).data("src");C(this).html('<img class="hybgl-popup-link-img" src="'+a+'">')})},beforeClose:function(){e.find(n).each(function(){C(this).html("")})}})):"ilb"==t?e.find(n).iLightBox():"cb"==t?(e.find(n+".colorbox-image").colorbox({rel:i,maxWidth:"95%",maxHeight:"95%"}),e.find(n+".colorbox-media").colorbox({rel:i,maxWidth:"95%",maxHeight:"95%",iframe:!0,innerWidth:640,innerHeight:360})):"lg"==t?e.find(".hybgl-container").lightGallery({selector:n}).on("onBeforeOpen.lg",function(a){e.find(n).each(function(){var a=C(this).data("src");C(this).html('<img class="hybgl-popup-link-img" src="'+a+'">')})}).on("onBeforeClose.lg",function(a){e.find(n).each(function(){C(this).html("")})}):"pp"==t?(e.find(n).each(function(){C(this).attr("rel","prettyPhoto[gallery-"+i+"]")}),e.find(n).prettyPhoto({animation_speed:"fast",default_width:640,default_height:360,theme:"pp_default"})):"lc"==t&&(e.find(n).each(function(){C(this).attr("data-rel","lightcase:"+i)}),e.find(n).lightcase({transition:"scrollVertical"}))})}function p(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}C.fn.HybridGalleryGrid=function(a){var o,n,l={mode:"isotope",layout:"grid",size:"equal",metro_style:1,jg_rowH:240,jg_max_rowH:!1,jg_lastrow:"nojustify",cols:3,gapX:10,gapY:10,pagin:!1,pg_ajax:!1,animation:"fadeInUp",ratio:"1-1",style:1,loader_delay:300,design:"{#w_vl#:#100#,#w_un#:#pc#,#align#:#none#}",res:!1};function r(a,i){var t=JSON.parse(a.design),e=(s(a,i,"align")?s(a,i,"align"):t.align,"hybgl-box-align-"),n=["none","left","center","right"];for(var l in n)i.gallery.hasClass(e+n[l])&&i.gallery.removeClass(e+n[l]);s(a,i,"align")?i.gallery.addClass(e+s(a,i,"align")):i.gallery.addClass(e+t.align),"custom"==s(a,i,"w")?i.cw="%"==s(a,i,"w_un")?i.gw*s(a,i,"w_vl")/100:s(a,i,"w_vl"):(i.cw="pc"==t.w_un?i.gw*t.w_vl/100:t.w_vl,t.w_un="pc"==t.w_un?"%":i.gw*t.w_un),i.gallery.css({width:i.cw})}function s(a,i,t){if(!a.res||a.res&&"-1"==a.res.indexOf("#"))return!1;var e,n,l,o,r,s=JSON.parse(a.res.replace(/#/g,'"'));for(var d in s)if("custom"==s[d].w&&i.ww<=d){e=s[d].w,n=s[d].w_vl,l="pc"==s[d].w_un?"%":s[d].w_un;break}for(var g in s)if("auto"!=s[g].cols&&i.ww<=g){o=s[g].cols;break}for(var h in s)if("auto"!=s[h].align&&i.ww<=h){r=s[h].align;break}return"cols"==t?o:"w"==t?e:"w_vl"==t?n:"w_un"==t?l:"align"==t?r:void 0}function v(a,i,t){var e,n=JSON.parse(a.design);"custom"==s(a,i,"w")?i.cw="%"==s(a,i,"w_un")?i.gw*s(a,i,"w_vl")/100:s(a,i,"w_vl"):(i.cw="pc"==n.w_un?i.gw*n.w_vl/100:n.w_vl,n.w_un="pc"==n.w_un?"%":i.gw*n.w_un),e=s(a,i,"cols")?s(a,i,"cols"):a.cols;var l=(i.cw-(e-1)*a.gapX)/e;return"cell"==t?e:l}function d(b,w,a){"resize"==a&&(w.item=w.container.find(".hybgl-item")),w.item.each(function(a){a+=1;var i,t,e,n,l=C(this),o=C(this).find(".hybgl-item-wrapper"),r=C(this).find(".hybgl-item-inner"),s=C(this).find(".hybgl-item-meta"),d=l.data("w"),g=l.data("h"),h=b.ratio[0],c=b.ratio[1],m=v(b,w);if("grid"==b.layout)i=Math.round(v(b,w)*c/h);else if("masonry"==b.layout)i=Math.round(v(b,w)*g/d);else if("metro"==b.layout){i=Math.round(v(b,w)*c/h);var y=2*m+b.gapX,u=3*m+2*b.gapX,f=(b.gapX,2*i+b.gapX),p=3*m+2*b.gapX;b.gapX;1==b.metro_style?(6!=b.cols||(a-1)%15!=0&&(a-4)%15!=0&&(a-9)%15!=0)&&(5!=b.cols||(a-1)%14!=0&&(a-11)%14!=0)&&(4!=b.cols||(a-1)%10!=0&&(a-8)%10!=0)&&(3!=b.cols||(a-1)%6!=0&&(a+1)%6!=0)?2==b.cols&&(a-1)%3==0&&(m=y,i=f):(m=y,i=f):2==b.metro_style?6==b.cols?(a-1)%9==0||(a-6)%9==0?(m=y,i=f):(a-2)%9==0||(a-8)%9==0?m=y:(a-4)%9==0&&(i=f):5==b.cols?(a-1)%9==0||(a+1)%9==0?(m=y,i=f):a%9==0||(a-2)%9==0?m=y:(a-3)%9!=0&&(a-4)%9!=0&&(a-6)%9!=0||(i=f):4==b.cols?(a-1)%10==0||(a-6)%10==0?(m=y,i=f):a%10==0||(a-2)%10==0?m=y:(a-4)%10!=0&&(a-7)%10!=0||(i=f):3==b.cols?(a-1)%6==0?(m=y,i=f):(a-6)%6==0?m=y:(a-3)%6!=0&&(a-4)%6!=0||(i=f):2==b.cols&&((a-1)%10==0?(m=y,i=f):(a-6)%10==0?m=y:(a-3)%10!=0&&(a-4)%10!=0&&(a-8)%10!=0&&(a-9)%10!=0||(i=f)):3==b.metro_style&&(6==b.cols?(a-1)%8==0?(m=u,i=f):(a-3)%8==0?(m=y,i=p):(a-4)%8==0?i=f:(a-6)%8==0?(m=y,i=f):a%8==0&&(m=u):5==b.cols?(a-1)%9==0?(m=u,i=f):(a-2)%9==0?m=y:(a-4)%9==0||(a-5)%9==0?i=f:(a-6)%9==0?(m=y,i=p):(a-8)%9==0&&(m=y,i=f):4==b.cols?(a-1)%9==0?(m=u,i=f):(a-3)%9==0?m=f:(a-5)%9==0||a%9==0?m=y:(a-6)%9==0&&(m=y,i=f):3==b.cols?(a-1)%6==0?(m=y,i=f):(a-3)%6==0||(a-4)%6==0?i=f:a%6==0&&(i=y):2==b.cols&&((a-1)%8==0?(m=y,i=f):(a-2)%8==0||(a-4)%8==0?i=f:(a-6)%8==0&&(m=y)))}else"justified"==b.layout&&(m=d,i=g);2==b.style&&(s.width(m),s.css({paddingBottom:b.gapY<=17?17-b.gapY:0}),n=s.outerHeight()),l.css({width:m,height:2==b.style?i+n:i,marginTop:b.gapY}),"justified"!=b.layout&&o.css({width:m,height:i}),"grid"!=b.layout&&"metro"!=b.layout||"fixed"!=b.size?(t=m,e=i):g<d?i/g<m/d?(e=i,t=Math.round(i*d/g)):e=Math.round(m*g/d):m/d<i/g?e=Math.round(m*g/d):t=Math.round(i*d/g),"grid"!=b.layout&&"metro"!=b.layout||r.css({width:t,height:e}),2==b.style&&s.css({top:i})})}function g(a,i,t,e){var n="animated "+a.animation,l=0;"resize"==t&&(i.item=i.gallery.find(".hybgl-item")),i.item.each(function(a){var i=C(this);p()?i.hasClass("hybgl-animation-ready")||i.addClass("hybgl-animation-ready"):"resize"==t?i.hasClass("hybgl-animation-ready")&&(i.removeClass("hybgl-animation-ready"),i.find(".hybgl-item-inner").removeClass(n),setTimeout(function(){i.addClass("hybgl-animation-ready"),i.find(".hybgl-item-inner").addClass(n)},100*++l)):"filter"==t?(i.removeClass("hybgl-animation-ready"),i.find(".hybgl-item-inner").removeClass(n),e&&i.hasClass(e)?setTimeout(function(){i.addClass("hybgl-animation-ready"),i.find(".hybgl-item-inner").addClass("hybgl-animate "+n)},100*++l):setTimeout(function(){i.addClass("hybgl-animation-ready"),i.find(".hybgl-item-inner").addClass("hybgl-animate "+n)},100*a)):i.hasClass("hybgl-animation-ready")||setTimeout(function(){i.addClass("hybgl-animation-ready"),i.find(".hybgl-item-inner").addClass("hybgl-animate "+n)},100*a)})}function h(a,i){"isotope"==a.mode&&((o="grid"==a.layout?i.container.isotope({transitionDuration:0,resizable:!0,initLayout:!1,itemSelector:i.gIT,layoutMode:"fitRows",fitRows:{columnWidth:v(a,i),gutter:a.gapX}}):i.container.isotope({transitionDuration:0,resizable:!0,initLayout:!1,itemSelector:i.gIT,layoutMode:"masonry",masonry:{columnWidth:v(a,i),gutter:a.gapX}})).on("layoutComplete",function(a){}),o.isotope("layout")),"justified"==a.mode&&(n=i.container.justifiedHybGallery({selector:i.gIT,rowHeight:a.jg_rowH,maxRowHeight:a.jg_max_rowH,lastRow:a.jg_lastrow,marginsX:a.gapX,marginsY:a.gapY,border:0,captions:!1,waitThumbnailsLoad:!1,imagesAnimationDuration:0}))}function c(t,e){e.filter.length&&e.filter.on("click",".hybgl-filter-label",function(){var a=C(this).attr("data-filter"),i=a.substring(1);g(t,e,"filter",i),"isotope"==t.mode&&o.isotope({filter:a}),"justified"==t.mode&&n.justifiedHybGallery({filter:a}),e.filter.find(".hybgl-filter-label").removeClass("hybgl-filter-label-active"),C(this).addClass("hybgl-filter-label-active")})}this.each(function(){var a,i,t=C(this),e={mode:t.data("mode")!==y?t.data("mode"):l.mode,layout:t.data("layout")!==y?t.data("layout"):l.layout,size:t.data("size")!==y?t.data("size"):l.size,metro_style:t.data("metro-style")!==y?t.data("metro-style"):l.metro_style,jg_rowH:t.data("rowheight")!==y?t.data("rowheight"):l.jg_rowH,jg_max_rowH:t.data("max-rowheight")!==y?t.data("max-rowheight"):l.jg_max_rowH,jg_lastrow:t.data("lastrow")!==y?t.data("lastrow"):l.jg_lastrow,cols:t.data("cols")!==y?t.data("cols"):l.cols,gapX:t.data("gap-x")!==y?t.data("gap-x"):l.gapX,gapY:t.data("gap-y")!==y?t.data("gap-y"):l.gapY,pagin:t.data("pagin")!==y?t.data("pagin"):l.pagin,pg_ajax:t.data("pagin-ajax")!==y?t.data("pagin-ajax"):l.pg_ajax,animation:t.data("animation")!==y?t.data("animation"):l.animation,ratio:t.data("ratio")!==y?t.data("ratio").split("-",2):l.ratio.split("-",2),style:t.data("style")!==y?t.data("style"):l.style,loader_delay:t.data("loader-delay")!==y?t.data("loader-delay"):l.loader_delay,design:t.data("design")!==y?t.data("design").replace(/#/g,'"'):l.design.replace(/#/g,'"'),res:t.data("res")!==y?t.data("res"):l.res},n={gw:t.parent().width(),ww:C(m).width(),cw:"100%",gallery:t,loader:t.find(".hybgl-loader"),pagination:t.find(".hybgl-pagination"),wrapper:t.find(".hybgl-wrapper"),container:t.find(".hybgl-container"),item:t.find(".hybgl-item"),filter:t.find(".hybgl-filter-items"),gID:"."+t.data("selector"),gWR:"."+t.data("selector")+" .hybgl-wrapper",gCT:"."+t.data("selector")+" .hybgl-container",gIT:"."+t.data("selector")+" .hybgl-item",gPG:"."+t.data("selector")+" .hybgl-pagination"};n.container.css({marginTop:-e.gapY}),r(e,n),d(e,n),h(e,n),a=e,(i=n).gallery.hybimagesloaded({background:".hybgl-item"},function(){setTimeout(function(){i.wrapper.addClass("hybgl-wrapper-ready"),i.pagination.addClass("hybgl-pagination-ready"),i.loader.removeClass("hybgl-on-loader").addClass("hybgl-loader-ready").hide().appendTo(i.gallery),g(a,i),c(a,i)},a.loader_delay)}),function(n,l){if("more"==n.pagin||"scroll"==n.pagin){var a=!1;"more"==n.pagin&&(a="showmore"),l.pagination.find(".hybgl-infinite-button").each(function(){C(this).click(function(){C(this).find(".hybgl-pagin-more-icon").addClass("hybgl-pagin-more-icon-ready")})}),l.container.infinitescroll({navSelector:l.gPG,nextSelector:l.gPG+" a.hybgl-infinite-button",itemSelector:l.gIT,behavior:a,animate:!1,loading:{msgText:"",finishedMsg:"",loaderDiv:""}},function(a,i,t){"scroll"==n.pagin&&l.loader.addClass("hybgl-loader-offset").show().removeClass("hybgl-loader-ready");var e=C(a);e.hide().hybimagesloaded({background:".hybgl-item"},function(){setTimeout(function(){l.item=e,d(n,l),u(),"isotope"==n.mode&&o.isotope("appended",e),"justified"==n.mode&&(l.container.append(e),l.container.justifiedHybGallery("norewind")),"more"==n.pagin?l.pagination.find(".hybgl-pagin-more-icon").removeClass("hybgl-pagin-more-icon-ready"):"scroll"==n.pagin&&l.loader.addClass("hybgl-loader-ready").hide(),g(n,l),c(n,l)},n.loader_delay)})})}}(e,n),function e(n,l){n.pg_ajax&&l.gallery.find(".hybgl-pagin-link").on("click",function(){l.wrapper.addClass("hybgl-wrapper-hide"),l.loader.prependTo(l.gallery).show().removeClass("hybgl-loader-ready"),C("html,body").animate({scrollTop:C(l.gID).offset().top},300);var a=C(this).data("ajax-url");C.ajax({type:"POST",dataType:"html",url:a,cache:!1,success:function(a){C(a).find(l.gCT).html();var i=C(a).find(l.gPG).html(),t=C(a).find(l.gCT+" .hybgl-item");l.item=t,l.container.html(t),t.hide().hybimagesloaded({background:".hybgl-item"},function(){setTimeout(function(){l.loader.removeClass("hybgl-loader-ready").hide().appendTo(l.gallery),l.pagination.html(i).hide(),l.wrapper.removeClass("hybgl-wrapper-hide"),d(n,l),u(),"isotope"==n.mode&&o.isotope("prepended",t).isotope("layout"),"justified"==n.mode&&l.container.justifiedHybGallery({selector:l.gIT,rowHeight:n.jg_rowH,maxRowHeight:n.jg_max_rowH,marginsX:n.gapX,marginsY:n.gapY,border:0,captions:!1,waitThumbnailsLoad:!1,imagesAnimationDuration:0}),g(n,l),c(n,l),setTimeout(function(){l.pagination.show()},n.loader_delay),e(n,l)},n.loader_delay)})}})})}(e,n),C(m).on("resize.$this",function(){C(this).width()!=n.ww&&(n.gw=t.parent().width(),n.ww=C(m).width(),r(e,n),d(e,n,"resize"),h(e,n))})})},C.fn.HybridGalleryCarousel=function(a){var n={size:"equal",ratio:"1-1",cols:3,gap:10,centermode:!1,nav:!0,dots:!1,animation:"fadeInUp",style:1,loader_delay:300,design:"{#w_vl#:#100#,#w_un#:#pc#,#align#:#none#}",res:!1};function o(a,i){var t=JSON.parse(a.design),e=(r(a,i,"align")?r(a,i,"align"):t.align,"hybgl-box-align-"),n=["none","left","center","right"];for(var l in n)i.gallery.hasClass(e+n[l])&&i.gallery.removeClass(e+n[l]);r(a,i,"align")?i.gallery.addClass(e+r(a,i,"align")):i.gallery.addClass(e+t.align),"custom"==r(a,i,"w")?i.cw="%"==r(a,i,"w_un")?i.gw*r(a,i,"w_vl")/100:r(a,i,"w_vl"):(i.cw="pc"==t.w_un?i.gw*t.w_vl/100:t.w_vl,t.w_un="pc"==t.w_un?"%":i.gw*t.w_un),i.gallery.css({width:i.cw})}function r(a,i,t){if(!a.res||a.res&&"-1"==a.res.indexOf("#"))return!1;var e,n,l,o,r,s=JSON.parse(a.res.replace(/#/g,'"'));for(var d in s)if("custom"==s[d].w&&i.ww<=d){e=s[d].w,n=s[d].w_vl,l="pc"==s[d].w_un?"%":s[d].w_un;break}for(var g in s)if("auto"!=s[g].cols&&i.ww<=g){o=s[g].cols;break}for(var h in s)if("auto"!=s[h].align&&i.ww<=h){r=s[h].align;break}return"cols"==t?o:"w"==t?e:"w_vl"==t?n:"w_un"==t?l:"align"==t?r:void 0}function f(a,i,t){var e,n=JSON.parse(a.design),l=(("custom"==r(a,i,"w")?"%"==r(a,i,"w_un")?i.gw*r(a,i,"w_vl")/100:r(a,i,"w_vl"):"pc"==n.w_un?i.gw*n.w_vl/100:n.w_vl)-((e=r(a,i,"cols")?r(a,i,"cols"):a.cols)-1)*a.gap)/e;return"cell"==t?e:l}function s(y,u){u.item.each(function(a){var i,t,e,n,l=C(this),o=C(this).find(".hybgl-item-wrapper"),r=C(this).find(".hybgl-item-inner"),s=C(this).find(".hybgl-item-meta"),d=l.data("w"),g=l.data("h"),h=y.ratio[0],c=y.ratio[1],m=g;i=f(y,u),m="auto"==y.size?Math.round(f(y,u)*g/d):Math.round(f(y,u)*c/h),2==y.style&&(s.width(i),s.css({paddingBottom:y.gap<=17?17-y.gap:0}),n=s.outerHeight()),l.css({height:2==y.style?m+n:m,marginLeft:y.gap/2,marginRight:y.gap/2}),o.css({height:m}),"fixed"==y.size&&(g<d?m/g<i/d?(e=m,t=Math.round(m*d/g)):e=Math.round(i*g/d):i/d<m/g?e=Math.round(i*g/d):t=Math.round(m*d/g),r.css({width:t,height:e})),2==y.style&&s.css({top:m})})}function d(a,t){"auto"==a.size&&t.item.each(function(){var a=C(this),i=(t.container.height()-a.height())/2;a.css({marginTop:i})})}this.each(function(){var i,l,a=C(this),t={size:a.data("size")!==y?a.data("size"):n.size,ratio:a.data("ratio")!==y?a.data("ratio").split("-",2):n.ratio.split("-",2),cols:a.data("cols")!==y?a.data("cols"):n.cols,gap:a.data("gap")!==y?a.data("gap"):n.gap,centermode:a.data("centermode")!==y?a.data("centermode"):n.centermode,nav:a.data("nav")!==y?a.data("nav"):n.nav,dots:a.data("dots")!==y?a.data("dots"):n.dots,animation:a.data("animation")!==y?a.data("animation"):n.animation,style:a.data("style")!==y?a.data("style"):n.style,loader_delay:a.data("loader-delay")!==y?a.data("loader-delay"):n.loader_delay,design:a.data("design")!==y?a.data("design").replace(/#/g,'"'):n.design.replace(/#/g,'"'),res:a.data("res")!==y?a.data("res"):n.res},e={gw:a.parent().width(),ww:C(m).width(),cw:"100%",gallery:a,loader:a.find(".hybgl-loader"),pagination:a.find(".hybgl-pagination"),wrapper:a.find(".hybgl-wrapper"),container:a.find(".hybgl-container"),containerInner:a.find(".hybgl-container-inner"),item:a.find(".hybgl-item"),gID:"."+a.data("selector"),gWR:"."+a.data("selector")+" .hybgl-wrapper",gCT:"."+a.data("selector")+" .hybgl-container",gCTIN:"."+a.data("selector")+" .hybgl-container-inner",gIT:"."+a.data("selector")+" .hybgl-item",gPG:"."+a.data("selector")+" .hybgl-pagination"};e.container.css({marginLeft:-t.gap/2,marginRight:-t.gap/2}),o(t,e),s(t,e),function(a,i){var t;if(a.res){var e=JSON.parse(a.res.replace(/#/g,'"'));t=[],C.each(e,function(a,i){e[a].cols&&"auto"!=e[a].cols&&(t[a]={breakpoint:a,settings:{slidesToShow:parseInt(e[a].cols),slidesToScroll:parseInt(e[a].cols)}})})}else t=!1;i.containerInner.on("init",function(a,i){}).on("afterChange",function(a,i,t){}).slick({infinite:a.centermode,slidesToShow:a.cols,slidesToScroll:a.cols,speed:300,centerMode:a.centermode,centerPadding:0,customPaging:function(a,i){return C('<span class="hybgl-dot-bullet"></span>')},dotsClass:"hybgl-dots",dots:a.dots,arrows:!1,adaptiveHeight:!1,responsive:t}),function(a,i){if(!a.nav)return;i.gallery.find(".hybgl-arrows-left").click(function(){i.containerInner.slick("slickPrev")}),i.gallery.find(".hybgl-arrows-right").click(function(){i.containerInner.slick("slickNext")})}(a,i)}(t,e),d(t,e),i=t,(l=e).gallery.hybimagesloaded({background:".hybgl-item"},function(){setTimeout(function(){var a,t,e,n;l.wrapper.addClass("hybgl-wrapper-ready"),l.pagination.addClass("hybgl-pagination-ready"),l.loader.removeClass("hybgl-on-loader").addClass("hybgl-loader-ready").hide().appendTo(l.gallery),l.item=l.gallery.find(".hybgl-item"),a=l,e="animated "+i.animation,n=0,a.gallery.find(".hybgl-item").each(function(a){var i=C(this);p()?i.hasClass("hybgl-animation-ready")||i.addClass("hybgl-animation-ready"):"resize"==t?i.hasClass("hybgl-animation-ready")&&(i.removeClass("hybgl-animation-ready"),i.find(".hybgl-item-inner").removeClass(e),setTimeout(function(){i.addClass("hybgl-animation-ready"),i.find(".hybgl-item-inner").addClass(e)},100*++n)):i.hasClass("hybgl-animation-ready")||setTimeout(function(){i.addClass("hybgl-animation-ready"),i.find(".hybgl-item-inner").addClass("hybgl-animate "+e)},100*a)})},i.loader_delay)}),C(m).on("resize.$this",function(){C(this).width()!=e.ww&&(e.gw=a.parent().width(),e.ww=C(m).width(),o(t,e),s(t,e),d(t,e))})})},C.fn.HybridGallerySlider=function(a){var e={mode:"fixed",thumbs:!0,thumbsWidth:80,thumbsHeight:80,thumbsVertical:!1,thumbsGap:10,nav:!1,dots:!0,ratio:"1-1",animationMain:"fadeInUp",animationChild:"zoomIn",metaAnimation:"slideInUp",loader_delay:300,design:"{#w_vl#:#100#,#w_un#:#pc#,#align#:#none#}",res:!1};function n(a,i){var t=JSON.parse(a.design),e=(o(a,i,"align")?o(a,i,"align"):t.align,"hybgl-box-align-"),n=["none","left","center","right"];for(var l in n)i.gallery.hasClass(e+n[l])&&i.gallery.removeClass(e+n[l]);o(a,i,"align")?i.gallery.addClass(e+o(a,i,"align")):i.gallery.addClass(e+t.align),"custom"==o(a,i,"w")?i.cw="%"==o(a,i,"w_un")?i.gw*o(a,i,"w_vl")/100:o(a,i,"w_vl"):(i.cw="pc"==t.w_un?i.gw*t.w_vl/100:t.w_vl,t.w_un="pc"==t.w_un?"%":i.gw*t.w_un),i.gallery.css({width:i.cw})}function o(a,i,t){if(!a.res||a.res&&"-1"==a.res.indexOf("#"))return!1;var e,n,l,o,r,s=JSON.parse(a.res.replace(/#/g,'"'));for(var d in s)if("custom"==s[d].w&&i.ww<=d){e=s[d].w,n=s[d].w_vl,l="pc"==s[d].w_un?"%":s[d].w_un;break}for(var g in s)if("auto"!=s[g].cols&&i.ww<=g){o=s[g].cols;break}for(var h in s)if("auto"!=s[h].align&&i.ww<=h){r=s[h].align;break}return"cols"==t?o:"w"==t?e:"w_vl"==t?n:"w_un"==t?l:"align"==t?r:void 0}function l(a,i,t){i.ctw=i.gallery.find(".hybgl-container").width();var e=a.ratio[0],n=a.ratio[1],l=Math.round(i.ctw*n/e);"resize"==t&&i.containerInner.find(".slick-list").css({height:l})}function d(a,i,t,e){i.ctw=i.gallery.find(".hybgl-container").width();var n=a.ratio[0],l=a.ratio[1],o=Math.round(i.ctw*l/n);a.thumbsVertical?(i.containerChild.css({width:a.thumbsWidth+a.thumbsGap,marginRight:-(a.thumbsWidth+a.thumbsGap)}),i.containerChildInner.css({marginTop:-a.thumbsGap/2,marginBottom:-a.thumbsGap/2}),"fixed"==a.mode&&i.containerChildInner.css({height:o+a.thumbsGap})):i.containerChildInner.css({marginTop:a.thumbsGap}),"resize"==t&&(a.thumbsVertical?("adaptive"==a.mode&&(e&&(o=e),i.containerChildInner.css({height:o})),i.containerChildInner.find(".slick-list").css({height:o})):i.containerChildInner.find(".slick-list").css({height:a.thumbsHeight}))}function g(h,c){h.thumbsVertical&&c.wrapper.css({marginRight:h.thumbsWidth+h.thumbsGap}),c.ctw=c.gallery.find(".hybgl-container").width(),c.item.each(function(a){var i,t,e=C(this),n=C(this).find(".hybgl-item-inner"),l=e.data("w"),o=e.data("h"),r=h.ratio[0],s=h.ratio[1],d="adaptive"==h.mode?Math.round(c.ctw*o/l):Math.round(c.ctw*s/r),g=Math.round(c.ctw*s/r);e.css({width:c.ctw,height:d}),"fixed"==h.mode&&(o<l?g/o<c.ctw/l?(t=g,i=Math.round(g*l/o)):t=Math.round(c.ctw*o/l):g/o>c.ctw/l?t=Math.round(c.ctw*o/l):i=Math.round(g*l/o),n.css({width:i,height:t}))})}function h(e,a){a.itemChild=a.gallery.find(".hybgl-child-item"),a.itemChild.each(function(a){var i=C(this),t=C(this).find(".hybgl-item-inner");i.data("w"),i.data("h"),e.ratio[0],e.ratio[1];e.thumbsVertical?i.css({width:e.thumbsWidth,height:e.thumbsHeight,marginTop:e.thumbsGap/2,marginBottom:e.thumbsGap/2,marginLeft:e.thumbsGap}):i.css({width:e.thumbsWidth,height:e.thumbsHeight,marginLeft:e.thumbsGap/2,marginRight:e.thumbsGap/2}),t.css({width:e.thumbsWidth,height:e.thumbsHeight})})}this.each(function(){var r,s,a=C(this),i={mode:a.data("mode")!==y?a.data("mode"):e.mode,thumbs:a.data("thumbs")!==y?a.data("thumbs"):e.thumbs,thumbsWidth:a.data("thumbs-width")!==y?a.data("thumbs-width"):e.thumbsWidth,thumbsHeight:a.data("thumbs-height")!==y?a.data("thumbs-height"):e.thumbsHeight,thumbsVertical:a.data("thumbs-vertical")!==y?a.data("thumbs-vertical"):e.thumbsVertical,thumbsGap:a.data("thumbs-gap")!==y?a.data("thumbs-gap"):e.thumbsGap,nav:a.data("nav")!==y?a.data("nav"):e.nav,dots:a.data("dots")!==y?a.data("dots"):e.dots,ratio:a.data("ratio")!==y?a.data("ratio").split("-",2):e.ratio.split("-",2),animationMain:a.data("animation-main")!==y?a.data("animation-main"):e.animationMain,animationChild:a.data("animation-child")!==y?a.data("animation-child"):e.animationChild,metaAnimation:a.data("meta-animation")!==y?a.data("meta-animation"):e.metaAnimation,loader_delay:a.data("loader-delay")!==y?a.data("loader-delay"):e.loader_delay,design:a.data("design")!==y?a.data("design").replace(/#/g,'"'):e.design.replace(/#/g,'"'),res:a.data("res")!==y?a.data("res"):e.res},t={gw:a.parent().width(),ww:C(m).width(),ctw:a.find(".hybgl-container").width(),ctCHw:a.find(".hybgl-child-container").width(),cw:"100%",gallery:a,loader:a.find(".hybgl-loader"),pagination:a.find(".hybgl-pagination"),wrapper:a.find(".hybgl-wrapper"),container:a.find(".hybgl-container"),containerInner:a.find(".hybgl-container-inner"),containerChild:a.find(".hybgl-child-container"),containerChildInner:a.find(".hybgl-child-container-inner"),item:a.find(".hybgl-main-item"),itemChild:a.find(".hybgl-child-item"),gID:"."+a.data("selector"),gWR:"."+a.data("selector")+" .hybgl-wrapper",gCT:"."+a.data("selector")+" .hybgl-container",gCTIN:"."+a.data("selector")+" .hybgl-container-inner",gCTCH:"."+a.data("selector")+" .hybgl-child-container",gCTCHIN:"."+a.data("selector")+" .hybgl-child-container-inner",gIT:"."+a.data("selector")+" .hybgl-main-item",gITCH:"."+a.data("selector")+" .hybgl-child-item",gPG:"."+a.data("selector")+" .hybgl-pagination"};n(i,t),g(i,t),function(l,o){l.thumbs||(o.gCTCHIN=!1);o.containerInner.on("afterChange",function(a,i,t,e){if("adaptive"==l.mode){var n=o.containerInner.find(".slick-list").height()+l.thumbsGap;d(l,o,"resize",n),C(m).resize(function(){d(l,o,"resize",n)})}}).slick({infinite:l.thumbs,slidesToShow:1,slidesToScroll:1,speed:300,centerMode:!1,centerPadding:!1,customPaging:function(a,i){return C('<span class="hybgl-dot-bullet"></span>')},dotsClass:"hybgl-dots",dots:l.dots,arrows:!1,adaptiveHeight:!0,asNavFor:o.gCTCHIN,variableWidth:!0}),function(a,i){if(!a.nav)return;i.gallery.find(".hybgl-arrows-left").click(function(){i.containerInner.slick("slickPrev")}),i.gallery.find(".hybgl-arrows-right").click(function(){i.containerInner.slick("slickNext")})}(l,o)}(i,t),l(i,t),h(i,t),d(i,t),function(a,i){if(1!=a.thumbs)return;var t=!0;a.thumbsVertical&&(t=!1);i.containerChildInner.slick({infinite:!0,slidesToShow:function(a,i){i.ctw=i.gallery.find(".hybgl-container").width();var t=15;a.thumbsVertical||(t=Math.floor((i.ctw+a.thumbsGap)/(a.thumbsWidth+a.thumbsGap)));return t}(a,i),slidesToScroll:1,speed:300,centerMode:!0,centerPadding:!1,dots:!1,arrows:!1,focusOnSelect:!0,vertical:a.thumbsVertical,variableWidth:t,asNavFor:i.gCTIN})}(i,t),r=i,(s=t).gallery.hybimagesloaded({background:".hybgl-item"},function(){setTimeout(function(){var a,i,t,e,n,l,o;s.pagination.addClass("hybgl-pagination-ready"),s.loader.removeClass("hybgl-on-loader").addClass("hybgl-loader-ready").hide().appendTo(s.gallery),s.gallery.addClass("hybgl-box-ready"),s.wrapper.addClass("hybgl-wrapper-ready"),s.item=s.gallery.find(".hybgl-item"),i=s,e="animated "+(a=r).animationMain,n="animated "+a.animationChild,l="animated "+a.metaAnimation,o=0,i.gallery.find(".hybgl-main-item").each(function(a){var i=C(this);p()?i.hasClass("hybgl-animation-ready")||i.addClass("hybgl-animation-ready"):"resize"==t?i.hasClass("hybgl-animation-ready")&&(i.removeClass("hybgl-animation-ready"),i.find(".hybgl-item-inner").removeClass(e),i.find(".hybgl-item-meta").removeClass(l),setTimeout(function(){i.addClass("hybgl-animation-ready"),i.find(".hybgl-item-inner").addClass(e),i.find(".hybgl-item-meta").addClass(l)},100*a)):i.hasClass("hybgl-animation-ready")||setTimeout(function(){i.addClass("hybgl-animation-ready"),i.find(".hybgl-item-inner").addClass("hybgl-animate "+e),i.find(".hybgl-item-meta").addClass("hybgl-animate "+l)},100*a)}),i.gallery.find(".hybgl-child-item").each(function(a){var i=C(this);p()?i.hasClass("hybgl-animation-ready")||i.addClass("hybgl-animation-ready"):"resize"==t?i.hasClass("hybgl-animation-ready")&&(i.removeClass("hybgl-animation-ready"),i.find(".hybgl-item-inner").removeClass(n),setTimeout(function(){i.addClass("hybgl-animation-ready"),i.find(".hybgl-item-inner").addClass(n)},100*++o)):i.hasClass("hybgl-animation-ready")||setTimeout(function(){i.addClass("hybgl-animation-ready"),i.find(".hybgl-item-inner").addClass("hybgl-animate "+n)},100*a)})},r.loader_delay)}),C(m).on("resize.$this",function(){C(this).width()!=t.ww&&(t.gw=a.parent().width(),t.ww=C(m).width(),t.ctw=a.find(".hybgl-container").width(),n(i,t),g(i,t),l(i,t,"resize"),h(i,t),d(i,t,"resize"))})})},C.extend(C.infinitescroll.prototype,{_setup_showmore:function(){var a=this.options,i=this;C(a.nextSelector).click(function(a){1!=a.which||a.metaKey||a.shiftKey||(a.preventDefault(),i.retrieve())}),i.options.loading.start=function(a){a.loading.msg.appendTo(a.loading.selector).show(a.loading.speed,function(){i.beginAjax(a)})}},_showdonemsg_showmore:function(){var a=this.options;a.loading.msg.find("img").hide().parent().find("div").html(a.loading.finishedMsg).animate({opacity:1},0,function(){C(this).parent().fadeOut("0")}),C(a.navSelector).fadeOut("0"),a.errorCallback.call(C(a.contentSelector)[0],"done")}}),C(m).load(function(){u(),C(".hybgl-mode-grid").HybridGalleryGrid(),C(".hybgl-mode-carousel").HybridGalleryCarousel(),C(".hybgl-mode-slider").HybridGallerySlider()})}(window.jQuery,window,void document);